; Write a macro to identify the
; maximum number between 3 numbers

.MODEL SMALL

PRINT_STRING MACRO X
	LEA DX, X
	MOV AH, 9
	INT 21H
ENDM

PRINT_CHAR MACRO X
	MOV DX, X
	MOV AH, 2
	INT 21H
ENDM

PRINT_NUM MACRO X
	MOV AX, X
	MOV BX, 10
	MOV CX, 0
	ASCII_CONVERT:
		MOV DX, 0
		DIV BX
		ADD DX, 30H
		PUSH DX
		INC CX
		CMP AX, 0
		JE	PRINT
		JMP ASCII_CONVERT
	PRINT:
		POP DX
		PRINT_CHAR DX
	LOOP PRINT
ENDM

MAXOFTHREE MACRO ARR, LEN, NUM
	MOV SI, 0
	MOV CX, LEN
	MOV DX, -32768 ; UNSIGNED LOWEST DECIMAL DATA WORD LIMIT
	L1:
		MOV AX, ARR[SI]
		CMP	AX, DX
		JLE	CONTINUE
		MOV DX, AX
		CONTINUE:
		ADD SI, 2
	LOOP L1
	
	MOV NUM, DX
ENDM

.STACK 100H
.DATA

NUM1	DW 0
NUM_ARR DW -234,2024,1234 ; SIGNED DECIMAL NUM ARRAY
LEN_ARR	DW 3
P1		DB "MAX NUM: $"

.CODE

MAIN PROC

; initialize DS
MOV AX,@DATA
MOV DS,AX
 
; code here

MAXOFTHREE NUM_ARR, LEN_ARR, NUM1

PRINT_STRING P1
PRINT_NUM NUM1

;exit to DOS              
MOV AX, 4C00H
INT 21H

MAIN ENDP
    END MAIN
